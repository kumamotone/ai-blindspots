
+++
title = "しっぽが犬を振り回す"
slug = "the-tail-wagging-the-dog"
date = "2025-03-10T10:15:50-04:00"
tags = []
+++

「しっぽが犬を振り回す (the tail wagging the dog)」とは、本来小さな要素やあまり重要でないものが、大きくて重要なものを支配してしまう状況を指します。ソフトウェア開発でも、些細な問題に囚われて本来の目的を見失うといった状況がこれに当たります。

LLMはこの問題に特に陥りやすいです。大きな原因は、一般的なチャット形式では、LLMの出力がすべて次のコンテキストに含まれてしまうということです。LLMも重要度の違いをある程度は判断できますが、あまりに多くの情報が追加されると、そもそも「最初に何をすべきだったか」を忘れてしまいがちです。  
Claude Codeではサブエージェントを用意して、グローバルなコンテキストを汚染せずにあるタスクを限定的に実行する、といった工夫がなされています。

## 例

- LLMに「とりあえず考えをまとめて」と指示したつもりが、その考えの途中で「よし、もうやってしまおう」と言い出して勝手に実行してしまう、など、途中の思考ステップをそのまま行動に移してしまうケースがあります。重要な判断を覆い隠して、意図しない方向に作業が逸れてしまうのです。

